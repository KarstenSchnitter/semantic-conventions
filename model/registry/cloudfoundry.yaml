groups:
  - id: registry.cloudfoundry
    prefix: cloudfoundry
    type: resource
    brief: >
      CloudFoundry resource attributes.
    attributes:
      - id: source.id
        type: string
        brief: >
          A guid or another name describing the event source.
        note: |
          CloudFoundry defines the `source_id` in the [Loggegator v2 envelope](https://github.com/cloudfoundry/loggregator-api#v2-envelope).
          It is used for logs and metrics emitted by CloudFoundry. It is
          supposed to contain the application id for applications deployed on
          the runtime or the component name, e.g. "gorouter", for CloudFoundry
          components.

          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.application_id`. This is the same value as
          reported by `cf app <app-name> --guid`.

          When system components are instrumented, values from the [Bosh spec](https://bosh.io/docs/jobs/#properties-spec)
          should be used. The `source.id` should be set to
          `spec.deployment/spec.name`.
        examples:
          - '218fc5a9-a5f1-4b54-aa05-46717d0ab26d'
          - 'cf/gorouter'
      - id: instance.id
        type: string
        brief: >
          An index or guid describing the concrete instance of the event source.
        note: |
          CloudFoundry defines the `instance_id` in the [Loggegator v2 envelope](https://github.com/cloudfoundry/loggregator-api#v2-envelope).
          It is used for logs and metrics emitted by CloudFoundry. It is
          supposed to contain the application instance index for applications
          deployed on the runtime or the vm id for CloudFoundry components.

          Application instrumentation should use the value from environment
          variable `CF_INSTANCE_INDEX`.

          When system components are instrumented, values from the [Bosh spec](https://bosh.io/docs/jobs/#properties-spec)
          should be used. The `instance.id` should be set to `spec.id`.
        examples:
          - '0'
          - '218fc5a9-a5f1-4b54-aa05-46717d0ab26d'
      - id: app.name
        type: string
        brief: >
          The name of the application.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.application_name`. This is the same value
          as reported by `cf apps`.
        examples: ['my-app-name']
      - id: app.id
        type: string
        brief: >
          The guid of the application.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.application_id`. This is the same value as
          reported by `cf app <app-name> --guid`.
        examples: ['218fc5a9-a5f1-4b54-aa05-46717d0ab26d']
      - id: space.name
        type: string
        brief: >
          The name of the CloudFoundry space the application is running in.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.space_name`. This is the same value as
          reported by `cf spaces`.
        examples: ['my-space-name']
      - id: space.id
        type: string
        brief: >
          The guid of the CloudFoundry space the application is running in.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.space_id`. This is the same value as
          reported by `cf space <space-name> --guid`.
        examples: ['218fc5a9-a5f1-4b54-aa05-46717d0ab26d']
      - id: org.name
        type: string
        brief: >
          The name of the CloudFoundry organization the app is running in.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.org_name`. This is the same value as
          reported by `cf orgs`.
        examples: ['my-org-name']
      - id: org.id
        type: string
        brief: >
          The guid of the CloudFoundry org the application is running in.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.org_id`. This is the same value as
          reported by `cf org <org-name> --guid`.
        examples: ['218fc5a9-a5f1-4b54-aa05-46717d0ab26d']
      - id: source.type
        type: string
        brief: >
          The type of the event source.
        note: |
          CloudFoundry generates log messages with different source types for an
          applications. This indicates, whether the log was created from the
          actual application, a background task, the central load balancer, or
          the CloudFoundry runtime, e.g. during a deployment.

          The `source_type` is contained as a tag of the [Loggegator v2 envelope](https://github.com/cloudfoundry/loggregator-api#v2-envelope).
          It is also available in the syslog drain structured data as documented
          in the [CloudFoundry Dev Guide](https://docs.cloudfoundry.org/devguide/deploy-apps/streaming-logs.html).
          Application developers can access the value of the `source_type` in
          the log stream generated by `cf logs <app-name>`, usually in square
          brackets.
        examples:
          - 'APP/PROC/WEB/0'
          - 'APP/TASK/jobscheduler-task-70013817-ab92-4f75-82d4-de8ae4dd64b4'
          - 'RTR'
          - 'STG'
      - id: process.id
        type: string
        brief: >
          The UID identifying the process.
        note: |
          Application instrumentation should use the value from environment
          variable `VCAP_APPLICATION.process_id`. It is supposed to be equal to
          `VCAP_APPLICATION.app_id` for applications deployed to the runtime.
          For system components, this could be the actual PID.
        examples: ['218fc5a9-a5f1-4b54-aa05-46717d0ab26d']
      - id: process.type
        type: string
        brief: >
          The type of process.
        note: |
          CloudFoundry applications can consist of multiple jobs. Usually the
          main process will be of type `web`. There can be additional background
          tasks or side-cars with different process types.
        examples: ['web']
